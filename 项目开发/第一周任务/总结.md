###  用例图

![image-20200410083440457](https://raw.githubusercontent.com/a11enyang/Picture/master/img/image-20200410083440457.png)

### 用例列表

| 序号 | 用例名称           |
| ---- | ------------------ |
| 1    | 登录               |
| 2    | 个人信息管理       |
| 3    | 票务查询           |
| 4    | 订票管理           |
| 5    | 退签办理           |
| 6    | 改签办理           |
| 7    | 订单管理           |
| 8    | 票务管理           |
| 9    | 新闻广告管理       |
| 10   | 用户权限（黑名单） |
| 11   | 系统日志           |
| 12   | 数据分析           |



### 业务规则

| 序号 | 描述                                                         | 采取的措施 | 评论 |
| ---- | ------------------------------------------------------------ | ---------- | ---- |
| 1    | 用户所订车次或改签车次的对应票种有余票                       |            |      |
| 2    | 所选乘车人都应该是合法用户；                                 |            |      |
| 3    | 票务管理系统优先根据用户的座位选择进行排座，多人订票尽量保证座位号是连着的； |            |      |
| 4    | 退票、改签处理必须优先参考国家发布的临时政策，如疫情期间的火车票政策； |            |      |
| 5    | 票务管理端资金充足；                                         |            |      |
| 6    | 用户改签时只能改签符合改签规定的车次                         |            |      |
| 7    |                                                              |            |      |
| 8    |                                                              |            |      |
| 9    |                                                              |            |      |



1. 用户所订车次或改签车次的对应票种有余票；
2. 
3.  
4. 
5. 
6. 
7. 账号



### 详述用例





##### 用例4

* 名称：订票办理

* 描述：需要订票的用户在用户端进行的订票操作     

* 输入：订票用户的所订的票务信息（包括车次、时间、起发站终止站）以及自身的乘车人个数和乘车人信息

* 输出：成功则生成订单信息，失败输出失败提示

* 参与者：订票用户，票务管理端   

* 用例关系：本用例需要在用例3-票务查询后方能进行，此外，本用例是用例5-退票管理、用例6-改签办理、用例7-订单管理的前提用例

* 前置条件：

* 基本流程：  

  1. 订票用户经过用例3-票务查询，查询到所乘车次的票务信息

  2. 票用户选择对应车次，选择票种。**业务规则#1**

  3. 订票用户添加乘车人。**业务规则#2**

  4. 票用户选座（ABCEF）
  5. 票务管理系统为用户调配座位，同时更新票务信息。订票用户确认订单 **业务规则#3**
  6. 订票用户支付订单，从该用户余额划去金额，金额流入票务管理端账户。**业务规则#4**                                                   

* 后置条件：票务管理端实时更新票务信息，订票用户的订单信息及时更新，资金迅速转移

| 序号     | 4                                                            |
| -------- | ------------------------------------------------------------ |
| 名称     | 订票办理                                                     |
| 描述     | 需要订票的用户在用户端进行的订票操作                         |
| 输入     | 订票用户的所订的票务信息（包括车次、时间、起发站终止站）以及自身的乘车人个数和乘车人信息 |
| 参与者   | 成功则生成订单信息，失败输出失败提示                         |
| 用例关系 | 本用例需要在用例3-票务查询后方能进行，此外，本用例是用例5-退票管理、用例6-改签办理、用例7-订单管理的前提用例 |
| 前置条件 | 票务查询过程顺利，订票用户身份合法，所订的车次有余票，订票用户余额足够支付票务费用，订票管理端运行正常 |
| 基本流程 | 1. 订票用户经过用例3-票务查询，查询到所乘车次的票务信息 2. 票用户选择对应车次，选择票种。**业务规则#1** 3. 订票用户添加乘车人。**业务规则#2**  4. 票用户选座（ABCEF） 5. 票务管理系统为用户调配座位，同时更新票务信息。订票用户确认订单 **业务规则#3** 6. 订票用户支付订单，从该用户余额划去金额，金额流入票务管理端账户。**业务规则#4** |
| 后置条件 | 票务管理端实时更新票务信息，订票用户的订单信息及时更新，资金迅速转移 |



